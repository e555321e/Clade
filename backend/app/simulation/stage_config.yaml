# Simulation Pipeline Stage Configuration
# GPU 张量流水线 + 核心数据阶段

# 当前使用的模式
mode: standard

# 模式定义
modes:
  minimal:
    description: "极简模式：核心数据 + GPU张量计算"
    stages:
      - name: init
        enabled: true
        order: 0
      - name: parse_pressures
        enabled: true
        order: 10
      - name: pressure_tensor
        enabled: true
        order: 11
      - name: fetch_species
        enabled: true
        order: 30
      - name: tiering_and_niche
        enabled: true
        order: 40
      - name: tensor_state_init
        enabled: true
        order: 49
      - name: tensor_ecology
        enabled: true
        order: 51
      - name: population_update
        enabled: true
        order: 90
      - name: tensor_metrics
        enabled: true
        order: 139
      - name: build_report
        enabled: true
        order: 140
      - name: tensor_state_sync
        enabled: true
        order: 159
      - name: finalize
        enabled: true
        order: 180

  standard:
    description: "标准模式：完整数据流 + GPU张量计算"
    stages:
      - name: init
        enabled: true
        order: 0
      - name: parse_pressures
        enabled: true
        order: 10
      - name: pressure_tensor
        enabled: true
        order: 11
      - name: map_evolution
        enabled: true
        order: 20
      - name: fetch_species
        enabled: true
        order: 30
      - name: food_web
        enabled: true
        order: 35
      - name: tiering_and_niche
        enabled: true
        order: 40
      - name: tensor_state_init
        enabled: true
        order: 49
      - name: tensor_ecology
        enabled: true
        order: 51
      - name: population_update
        enabled: true
        order: 90
      - name: gene_diversity
        enabled: true
        order: 93
      - name: gene_activation
        enabled: true
        order: 95
      - name: speciation
        enabled: true
        order: 120
      - name: background_management
        enabled: true
        order: 130
      - name: tensor_metrics
        enabled: true
        order: 139
      - name: build_report
        enabled: true
        order: 140
      - name: save_map_snapshot
        enabled: true
        order: 150
      - name: tensor_state_sync
        enabled: true
        order: 159
      - name: save_population_snapshot
        enabled: true
        order: 160
      - name: save_history
        enabled: true
        order: 170
      - name: finalize
        enabled: true
        order: 180

  full:
    description: "全功能模式：所有阶段 + GPU张量计算"
    stages:
      - name: init
        enabled: true
        order: 0
      - name: parse_pressures
        enabled: true
        order: 10
      - name: pressure_tensor
        enabled: true
        order: 11
      - name: map_evolution
        enabled: true
        order: 20
      - name: tectonic_movement
        enabled: true
        order: 25
      - name: fetch_species
        enabled: true
        order: 30
      - name: food_web
        enabled: true
        order: 35
      - name: tiering_and_niche
        enabled: true
        order: 40
      - name: tensor_state_init
        enabled: true
        order: 49
      - name: tensor_ecology
        enabled: true
        order: 51
      - name: population_update
        enabled: true
        order: 90
      - name: gene_diversity
        enabled: true
        order: 93
      - name: gene_activation
        enabled: true
        order: 95
      - name: gene_flow
        enabled: true
        order: 100
      - name: genetic_drift
        enabled: true
        order: 105
      - name: auto_hybridization
        enabled: true
        order: 110
      - name: subspecies_promotion
        enabled: true
        order: 115
      - name: speciation
        enabled: true
        order: 120
      - name: background_management
        enabled: true
        order: 130
      - name: tensor_metrics
        enabled: true
        order: 139
      - name: build_report
        enabled: true
        order: 140
      - name: save_map_snapshot
        enabled: true
        order: 150
      - name: vegetation_cover
        enabled: true
        order: 155
      - name: tensor_state_sync
        enabled: true
        order: 159
      - name: save_population_snapshot
        enabled: true
        order: 160
      - name: embedding_integration
        enabled: true
        order: 164
      - name: embedding_hooks
        enabled: true
        order: 165
      - name: save_history
        enabled: true
        order: 170
      - name: export_data
        enabled: true
        order: 175
      - name: finalize
        enabled: true
        order: 180

  debug:
    description: "调试模式：核心阶段 + GPU张量计算 + 详细日志"
    stages:
      - name: init
        enabled: true
        order: 0
      - name: parse_pressures
        enabled: true
        order: 10
      - name: pressure_tensor
        enabled: true
        order: 11
      - name: fetch_species
        enabled: true
        order: 30
      - name: tiering_and_niche
        enabled: true
        order: 40
      - name: tensor_state_init
        enabled: true
        order: 49
      - name: tensor_ecology
        enabled: true
        order: 51
      - name: population_update
        enabled: true
        order: 90
      - name: tensor_metrics
        enabled: true
        order: 139
      - name: build_report
        enabled: true
        order: 140
      - name: tensor_state_sync
        enabled: true
        order: 159
      - name: save_population_snapshot
        enabled: true
        order: 160
      - name: finalize
        enabled: true
        order: 180
